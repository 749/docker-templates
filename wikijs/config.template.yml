#######################################################################
# Wiki.js - CONFIGURATION                                             #
#######################################################################
# Full explanation + examples in the documentation:
# https://docs.requarks.io/wiki/install
# You can use an ENV variable by using $(ENV_VAR_NAME) as the value

# ---------------------------------------------------------------------
# Title of this site
# ---------------------------------------------------------------------

title: $WIKIJS_TITLE

# ---------------------------------------------------------------------
# Full public path to the site, without the trailing slash
# ---------------------------------------------------------------------
# INCLUDE CLIENT PORT IF NOT 80/443!

host: $WIKIJS_HOST

# ---------------------------------------------------------------------
# Port the main server should listen to (80 by default)
# ---------------------------------------------------------------------
# To use process.env.PORT, comment the line below:

port: 3000

# ---------------------------------------------------------------------
# Data Directories
# ---------------------------------------------------------------------

paths:
  repo: /var/wiki/repo
  data: /var/wiki/data

# ---------------------------------------------------------------------
# Upload Limits
# ---------------------------------------------------------------------
# In megabytes (MB)

uploads:
  maxImageFileSize: $WIKIJS_UPLOADS_MAX_IMAGE_FILESIZE
  maxOtherFileSize: $WIKIJS_UPLOADS_MAX_OTHER_FILESIZE

# ---------------------------------------------------------------------
# Site Language
# ---------------------------------------------------------------------
# Possible values: en, de, es, fa, fr, ja, ko, nl, pt, ru, sr, sv, tr or zh

lang: $WIKIJS_LANG

# Enable for right to left languages (e.g. arabic):
langRtl: $WIKIJS_LANG_RTL

# ---------------------------------------------------------------------
# Site Authentication
# ---------------------------------------------------------------------

public: $WIKIJS_PUBLIC

auth:
  defaultReadAccess: $WIKIJS_AUTH_DEFAULT_READ_ACCESS
  local:
    enabled: $WIKIJS_AUTH_LOCAL_ENABLED
  google:
    enabled: $WIKIJS_AUTH_GOOGLE_ENABLED
    clientId: $WIKIJS_AUTH_GOOGLE_CLIENT_ID
    clientSecret: $WIKIJS_AUTH_GOOGLE_CLIENT_SECRET
  microsoft:
    enabled: $WIKIJS_AUTH_GOOGLE_ENABLED
    clientId: $WIKIJS_AUTH_MS_APP_ID
    clientSecret: $WIKIJS_AUTH_MS_APP_SECRET
  facebook:
    enabled: $WIKIJS_AUTH_FACEBOOK_ENABLED
    clientId: $WIKIJS_AUTH_FACEBOOK_APP_ID
    clientSecret: $WIKIJS_AUTH_FACEBOOK_APP_SECRET
  github:
    enabled: $WIKIJS_AUTH_GITHUB_ENABLED
    clientId: $WIKIJS_AUTH_GITHUB_CLIENT_ID
    clientSecret: $WIKIJS_AUTH_GITHUB_CLIENT_SECRET
  slack:
    enabled: $WIKIJS_AUTH_SLACK_ENABLED
    clientId: '$WIKIJS_AUTH_SLACK_CLIENT_ID'
    clientSecret: '$WIKIJS_AUTH_SLACK_CLIENT_SECRET'
  ldap:
    enabled: $WIKIJS_AUTH_LDAP_ENABLED
    url: $WIKIJS_AUTH_LDAP_URL
    bindDn: $WIKIJS_AUTH_LDAP_BIND_DN
    bindCredentials: $WIKIJS_AUTH_LDAP_BIND_CREDENTIALS
    searchBase: $WIKIJS_AUTH_LDAP_SEARCH_BASE
    searchFilter: $WIKIJS_AUTH_LDAP_SEARCH_FILTER
    tlsEnabled: $WIKIJS_AUTH_LDAP_TLS_ENABLED
    tlsCertPath: $WIKIJS_AUTH_LDAP_TLS_CERT_PATH
  azure:
    enabled: $WIKIJS_AUTH_AZURE_ENABLED
    clientId: $WIKIJS_AUTH_AZURE_APP_ID
    clientSecret: $WIKIJS_AUTH_AZURE_APP_SECRET
    resource: '$WIKIJS_AUTH_AZURE_RESOURCE'
    tenant: '$WIKIJS_AUTH_AZURE_TENANT'
  oauth2:
    enabled: $WIKIJS_AUTH_OAUTH2_ENABLED
    clientId: $WIKIJS_AUTH_OAUTH2_CLIENT_ID
    clientSecret: $WIKIJS_AUTH_OAUTH2_CLIENT_SECRET
    authorizationURL: $WIKIJS_AUTH_OAUTH2_AUTH_URL
    tokenURL: $WIKIJS_AUTH_OAUTH2_TOKEN_URL
  oidc:
    enabled: $WIKIJS_AUTH_OPENID_ENABLED
    clientId: $WIKIJS_AUTH_OOPENID_CONNECT_CLIENT_ID
    clientSecret: $WIKIJS_AUTH_OOPENID_CONNECT_CLIENT_SECRET
    issuer: $WIKIJS_AUTH_OOPENID_CONNECT_ISSUER
    userInfoUrl: $WIKIJS_AUTH_OOPENID_CONNECT_USER_INFO_URL
    authorizationURL: $WIKIJS_AUTH_OOPENID_CONNECT_AUTHORIZATION_URL
    tokenURL: $WIKIJS_AUTH_OOPENID_CONNECT_TOKEN_URL
    emailClaim: $WIKIJS_AUTH_OOPENID_CONNECT_EMAIL_CLAIM_PATH
    usernameClaim: $WIKIJS_AUTH_OOPENID_CONNECT_USERNAME_CLAIM_PATH
# ---------------------------------------------------------------------
# Secret key to use when encrypting sessions
# ---------------------------------------------------------------------
# Use a long and unique random string (256-bit keys are perfect!)

sessionSecret: $WIKIJS_SESSION_SECRET

# ---------------------------------------------------------------------
# Database Connection String
# ---------------------------------------------------------------------

db: mongodb://db:27017/wiki

# ---------------------------------------------------------------------
# Git Connection Info
# ---------------------------------------------------------------------

git:
  url: $WIKIJS_GIT_URL
  branch: $WIKIJS_GIT_BRANCH
  auth:

    # Type: basic or ssh
    type: $WIKIJS_GIT_AUTH_TYPE

    # Only for Basic authentication:
    username: $WIKIJS_GIT_BASIC_AUTH_USERNAME
    password: $WIKIJS_GIT_BASIC_AUTH_PASSWORD

    # Only for SSH authentication:
    privateKey: $WIKIJS_GIT_SSH_AUTH_PRIVATE_KEY

    sslVerify: $WIKIJS_GIT_SSL_VERIFY

  # Default email to use as commit author
  serverEmail: $WIKIJS_GIT_SERVER_EMAIL

  # Whether to use user email as author in commits
  showUserEmail: $WIKIJS_GIT_SHOW_USER_EMAIL

# ---------------------------------------------------------------------
# Features
# ---------------------------------------------------------------------
# You can enable / disable specific features below

features:
  linebreaks: true
  mathjax: true

# ---------------------------------------------------------------------
# External Logging
# ---------------------------------------------------------------------

externalLogging:
  bugsnag: false
  loggly: false
  papertrail: false
  rollbar: false
  sentry: false

# ---------------------------------------------------------------------
# Color Theme
# ---------------------------------------------------------------------

theme:
  primary: indigo
  alt: blue-grey
  viewSource: all # all | write | false
  footer: blue-grey
  code:
    dark: true
    colorize: true

